{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template core_availability/availability_multiple_messages

    Renders the availability tree for course activties

    Example context (json):
    {
        "parentcontainer" : "123456",
        "items" : [
            {
                "showmorelink": 0,
                "abbreviate" : 0,
                "title": "You belong to Green Group"
            },
            {
                "showmorelink": 0,
                "abbreviate" : 0,
                "title": "You belong to Red Group"
            },
            {
                "showmorelink": 0,
                "abbreviate" : 0,
                "title": "You belong to Orange Group"
            },
            {
                "showmorelink": 0,
                "abbreviate" : 1,
                "title": "You belong to Pink Group"
            },
            {
                "showmorelink": 1
            },
            {
                "showmorelink": 0,
                "abbreviate" : 0,
                "title": "You belong to Red Group",
                "class": "d-none"
            }
        ]
    }
}}
{{{header}}}
<ul {{#parent}}id="availability-tree-{{id}}" data-region="availability-multiple"{{/parent}}>
    {{#items}}
        <li class="{{#hidden}}d-none{{/hidden}}">
            {{#abbreviate}}
                <span class="d-none">{{{title}}}</span><span class="d-block">...</span>
            {{/abbreviate}}
            {{^abbreviate}}
                {{{title}}}
            {{/abbreviate}}
        </li>
    {{/items}}
    {{#showmorelink}}
        <li data-action="showmore" class="d-block showmore"><a role="button" aria-expanded="false" aria-controls="availability-tree-{{id}}" href="#" >Show more</a></li>
    {{/showmorelink}}
</ul>

{{^parent}}
{{#js}}
require(['core_availability/availability_more'], function(availabilityMore) {
        availabilityMore.init();
});
{{/js}}
{{/parent}}
