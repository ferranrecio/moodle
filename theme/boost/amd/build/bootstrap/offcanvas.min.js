define("theme_boost/bootstrap/offcanvas",["exports","./util/index","./util/scrollbar","./dom/event-handler","./base-component","./dom/selector-engine","./dom/manipulator","./util/backdrop"],(function(_exports,_index,_scrollbar,_eventHandler,_baseComponent,_selectorEngine,_manipulator,_backdrop){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_scrollbar=_interopRequireDefault(_scrollbar),_eventHandler=_interopRequireDefault(_eventHandler),_baseComponent=_interopRequireDefault(_baseComponent),_selectorEngine=_interopRequireDefault(_selectorEngine),_manipulator=_interopRequireDefault(_manipulator),_backdrop=_interopRequireDefault(_backdrop);const EVENT_KEY=".".concat("bs.offcanvas"),EVENT_LOAD_DATA_API="load".concat(EVENT_KEY).concat(".data-api"),Default={backdrop:!0,keyboard:!0,scroll:!1},DefaultType={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},EVENT_SHOW="show".concat(EVENT_KEY),EVENT_SHOWN="shown".concat(EVENT_KEY),EVENT_HIDE="hide".concat(EVENT_KEY),EVENT_HIDDEN="hidden".concat(EVENT_KEY),EVENT_FOCUSIN="focusin".concat(EVENT_KEY),EVENT_CLICK_DATA_API="click".concat(EVENT_KEY).concat(".data-api"),EVENT_CLICK_DISMISS="click.dismiss".concat(EVENT_KEY),EVENT_KEYDOWN_DISMISS="keydown.dismiss".concat(EVENT_KEY);class Offcanvas extends _baseComponent.default{constructor(element,config){super(element),this._config=this._getConfig(config),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._addEventListeners()}static get NAME(){return"offcanvas"}static get Default(){return Default}toggle(relatedTarget){return this._isShown?this.hide():this.show(relatedTarget)}show(relatedTarget){if(this._isShown)return;if(_eventHandler.default.trigger(this._element,EVENT_SHOW,{relatedTarget:relatedTarget}).defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||((new _scrollbar.default).hide(),this._enforceFocusOnElement(this._element)),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show");this._queueCallback((()=>{_eventHandler.default.trigger(this._element,EVENT_SHOWN,{relatedTarget:relatedTarget})}),this._element,!0)}hide(){if(!this._isShown)return;if(_eventHandler.default.trigger(this._element,EVENT_HIDE).defaultPrevented)return;_eventHandler.default.off(document,EVENT_FOCUSIN),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide();this._queueCallback((()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new _scrollbar.default).reset(),_eventHandler.default.trigger(this._element,EVENT_HIDDEN)}),this._element,!0)}dispose(){this._backdrop.dispose(),super.dispose(),_eventHandler.default.off(document,EVENT_FOCUSIN)}_getConfig(config){return config={...Default,..._manipulator.default.getDataAttributes(this._element),..."object"==typeof config?config:{}},(0,_index.typeCheckConfig)("offcanvas",config,DefaultType),config}_initializeBackDrop(){return new _backdrop.default({isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_enforceFocusOnElement(element){_eventHandler.default.off(document,EVENT_FOCUSIN),_eventHandler.default.on(document,EVENT_FOCUSIN,(event=>{document===event.target||element===event.target||element.contains(event.target)||element.focus()})),element.focus()}_addEventListeners(){_eventHandler.default.on(this._element,EVENT_CLICK_DISMISS,'[data-bs-dismiss="offcanvas"]',(()=>this.hide())),_eventHandler.default.on(this._element,EVENT_KEYDOWN_DISMISS,(event=>{this._config.keyboard&&"Escape"===event.key&&this.hide()}))}static jQueryInterface(config){return this.each((function(){const data=Offcanvas.getOrCreateInstance(this,config);if("string"==typeof config){if(void 0===data[config]||config.startsWith("_")||"constructor"===config)throw new TypeError('No method named "'.concat(config,'"'));data[config](this)}}))}}_eventHandler.default.on(document,EVENT_CLICK_DATA_API,'[data-bs-toggle="offcanvas"]',(function(event){const target=(0,_index.getElementFromSelector)(this);if(["A","AREA"].includes(this.tagName)&&event.preventDefault(),(0,_index.isDisabled)(this))return;_eventHandler.default.one(target,EVENT_HIDDEN,(()=>{(0,_index.isVisible)(this)&&this.focus()}));const allReadyOpen=_selectorEngine.default.findOne(".offcanvas.show");allReadyOpen&&allReadyOpen!==target&&Offcanvas.getInstance(allReadyOpen).hide();Offcanvas.getOrCreateInstance(target).toggle(this)})),_eventHandler.default.on(window,EVENT_LOAD_DATA_API,(()=>_selectorEngine.default.find(".offcanvas.show").forEach((el=>Offcanvas.getOrCreateInstance(el).show())))),(0,_index.defineJQueryPlugin)(Offcanvas);var _default=Offcanvas;return _exports.default=_default,_exports.default}));

//# sourceMappingURL=offcanvas.min.js.map