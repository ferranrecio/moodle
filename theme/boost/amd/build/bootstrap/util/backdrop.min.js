define("theme_boost/bootstrap/util/backdrop",["exports","../dom/event-handler","./index"],(function(_exports,_eventHandler,_index){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_eventHandler=(obj=_eventHandler)&&obj.__esModule?obj:{default:obj};const Default={isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},DefaultType={isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},EVENT_MOUSEDOWN="mousedown.bs.".concat("backdrop");var _default=class{constructor(config){this._config=this._getConfig(config),this._isAppended=!1,this._element=null}show(callback){this._config.isVisible?(this._append(),this._config.isAnimated&&(0,_index.reflow)(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation((()=>{(0,_index.execute)(callback)}))):(0,_index.execute)(callback)}hide(callback){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation((()=>{this.dispose(),(0,_index.execute)(callback)}))):(0,_index.execute)(callback)}_getElement(){if(!this._element){const backdrop=document.createElement("div");backdrop.className="modal-backdrop",this._config.isAnimated&&backdrop.classList.add("fade"),this._element=backdrop}return this._element}_getConfig(config){return(config={...Default,..."object"==typeof config?config:{}}).rootElement=(0,_index.getElement)(config.rootElement),(0,_index.typeCheckConfig)("backdrop",config,DefaultType),config}_append(){this._isAppended||(this._config.rootElement.appendChild(this._getElement()),_eventHandler.default.on(this._getElement(),EVENT_MOUSEDOWN,(()=>{(0,_index.execute)(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(_eventHandler.default.off(this._element,EVENT_MOUSEDOWN),this._element.remove(),this._isAppended=!1)}_emulateAnimation(callback){(0,_index.executeAfterTransition)(callback,this._getElement(),this._config.isAnimated)}};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=backdrop.min.js.map