{"version":3,"file":"tab.min.js","sources":["../../src/bootstrap/tab.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.0.2): tab.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport {\n  defineJQueryPlugin,\n  getElementFromSelector,\n  isDisabled,\n  reflow\n} from './util/index'\nimport EventHandler from './dom/event-handler'\nimport SelectorEngine from './dom/selector-engine'\nimport BaseComponent from './base-component'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'tab'\nconst DATA_KEY = 'bs.tab'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_DROPDOWN_MENU = 'dropdown-menu'\nconst CLASS_NAME_ACTIVE = 'active'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\n\nconst SELECTOR_DROPDOWN = '.dropdown'\nconst SELECTOR_NAV_LIST_GROUP = '.nav, .list-group'\nconst SELECTOR_ACTIVE = '.active'\nconst SELECTOR_ACTIVE_UL = ':scope > li > .active'\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"tab\"], [data-bs-toggle=\"pill\"], [data-bs-toggle=\"list\"]'\nconst SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle'\nconst SELECTOR_DROPDOWN_ACTIVE_CHILD = ':scope > .dropdown-menu .active'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Tab extends BaseComponent {\n  // Getters\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n\n  show() {\n    if ((this._element.parentNode &&\n      this._element.parentNode.nodeType === Node.ELEMENT_NODE &&\n      this._element.classList.contains(CLASS_NAME_ACTIVE))) {\n      return\n    }\n\n    let previous\n    const target = getElementFromSelector(this._element)\n    const listElement = this._element.closest(SELECTOR_NAV_LIST_GROUP)\n\n    if (listElement) {\n      const itemSelector = listElement.nodeName === 'UL' || listElement.nodeName === 'OL' ? SELECTOR_ACTIVE_UL : SELECTOR_ACTIVE\n      previous = SelectorEngine.find(itemSelector, listElement)\n      previous = previous[previous.length - 1]\n    }\n\n    const hideEvent = previous ?\n      EventHandler.trigger(previous, EVENT_HIDE, {\n        relatedTarget: this._element\n      }) :\n      null\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, {\n      relatedTarget: previous\n    })\n\n    if (showEvent.defaultPrevented || (hideEvent !== null && hideEvent.defaultPrevented)) {\n      return\n    }\n\n    this._activate(this._element, listElement)\n\n    const complete = () => {\n      EventHandler.trigger(previous, EVENT_HIDDEN, {\n        relatedTarget: this._element\n      })\n      EventHandler.trigger(this._element, EVENT_SHOWN, {\n        relatedTarget: previous\n      })\n    }\n\n    if (target) {\n      this._activate(target, target.parentNode, complete)\n    } else {\n      complete()\n    }\n  }\n\n  // Private\n\n  _activate(element, container, callback) {\n    const activeElements = container && (container.nodeName === 'UL' || container.nodeName === 'OL') ?\n      SelectorEngine.find(SELECTOR_ACTIVE_UL, container) :\n      SelectorEngine.children(container, SELECTOR_ACTIVE)\n\n    const active = activeElements[0]\n    const isTransitioning = callback && (active && active.classList.contains(CLASS_NAME_FADE))\n\n    const complete = () => this._transitionComplete(element, active, callback)\n\n    if (active && isTransitioning) {\n      active.classList.remove(CLASS_NAME_SHOW)\n      this._queueCallback(complete, element, true)\n    } else {\n      complete()\n    }\n  }\n\n  _transitionComplete(element, active, callback) {\n    if (active) {\n      active.classList.remove(CLASS_NAME_ACTIVE)\n\n      const dropdownChild = SelectorEngine.findOne(SELECTOR_DROPDOWN_ACTIVE_CHILD, active.parentNode)\n\n      if (dropdownChild) {\n        dropdownChild.classList.remove(CLASS_NAME_ACTIVE)\n      }\n\n      if (active.getAttribute('role') === 'tab') {\n        active.setAttribute('aria-selected', false)\n      }\n    }\n\n    element.classList.add(CLASS_NAME_ACTIVE)\n    if (element.getAttribute('role') === 'tab') {\n      element.setAttribute('aria-selected', true)\n    }\n\n    reflow(element)\n\n    if (element.classList.contains(CLASS_NAME_FADE)) {\n      element.classList.add(CLASS_NAME_SHOW)\n    }\n\n    let parent = element.parentNode\n    if (parent && parent.nodeName === 'LI') {\n      parent = parent.parentNode\n    }\n\n    if (parent && parent.classList.contains(CLASS_NAME_DROPDOWN_MENU)) {\n      const dropdownElement = element.closest(SELECTOR_DROPDOWN)\n\n      if (dropdownElement) {\n        SelectorEngine.find(SELECTOR_DROPDOWN_TOGGLE, dropdownElement)\n          .forEach(dropdown => dropdown.classList.add(CLASS_NAME_ACTIVE))\n      }\n\n      element.setAttribute('aria-expanded', true)\n    }\n\n    if (callback) {\n      callback()\n    }\n  }\n\n  // Static\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tab.getOrCreateInstance(this)\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  if (isDisabled(this)) {\n    return\n  }\n\n  const data = Tab.getOrCreateInstance(this)\n  data.show()\n})\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n * add .Tab to jQuery only if jQuery is present\n */\n\ndefineJQueryPlugin(Tab)\n\nexport default Tab\n"],"names":["EVENT_KEY","EVENT_HIDE","EVENT_HIDDEN","EVENT_SHOW","EVENT_SHOWN","EVENT_CLICK_DATA_API","Tab","BaseComponent","NAME","show","this","_element","parentNode","nodeType","Node","ELEMENT_NODE","classList","contains","previous","target","listElement","closest","itemSelector","nodeName","SelectorEngine","find","length","hideEvent","EventHandler","trigger","relatedTarget","defaultPrevented","_activate","complete","element","container","callback","active","children","isTransitioning","_transitionComplete","remove","_queueCallback","dropdownChild","findOne","getAttribute","setAttribute","add","parent","dropdownElement","forEach","dropdown","config","each","data","getOrCreateInstance","TypeError","on","document","event","includes","tagName","preventDefault"],"mappings":"ihBAyBMA,qBADW,UAIXC,yBAAoBD,WACpBE,6BAAwBF,WACxBG,yBAAoBH,WACpBI,2BAAsBJ,WACtBK,oCAA+BL,kBANhB,mBA2BfM,YAAYC,uBAGLC,wBAjCA,MAuCXC,UACOC,KAAKC,SAASC,YACjBF,KAAKC,SAASC,WAAWC,WAAaC,KAAKC,cAC3CL,KAAKC,SAASK,UAAUC,SA9BJ,qBAkClBC,eACEC,QAAS,iCAAuBT,KAAKC,UACrCS,YAAcV,KAAKC,SAASU,QA/BN,wBAiCxBD,YAAa,OACTE,aAAwC,OAAzBF,YAAYG,UAA8C,OAAzBH,YAAYG,SAhC7C,wBADH,UAkClBL,SAAWM,wBAAeC,KAAKH,aAAcF,aAC7CF,SAAWA,SAASA,SAASQ,OAAS,SAGlCC,UAAYT,SAChBU,sBAAaC,QAAQX,SAAUjB,WAAY,CACzC6B,cAAepB,KAAKC,WAEtB,QAEgBiB,sBAAaC,QAAQnB,KAAKC,SAAUR,WAAY,CAChE2B,cAAeZ,WAGHa,kBAAmC,OAAdJ,WAAsBA,UAAUI,6BAI9DC,UAAUtB,KAAKC,SAAUS,mBAExBa,SAAW,2BACFJ,QAAQX,SAAUhB,aAAc,CAC3C4B,cAAepB,KAAKC,iCAETkB,QAAQnB,KAAKC,SAAUP,YAAa,CAC/C0B,cAAeZ,YAIfC,YACGa,UAAUb,OAAQA,OAAOP,WAAYqB,UAE1CA,WAMJD,UAAUE,QAASC,UAAWC,gBAKtBC,SAJiBF,WAAqC,OAAvBA,UAAUZ,UAA4C,OAAvBY,UAAUZ,SAE5EC,wBAAec,SAASH,UA3EN,WA0ElBX,wBAAeC,KAzEM,wBAyEmBU,YAGZ,GACxBI,gBAAkBH,UAAaC,QAAUA,OAAOrB,UAAUC,SAnF5C,QAqFdgB,SAAW,IAAMvB,KAAK8B,oBAAoBN,QAASG,OAAQD,UAE7DC,QAAUE,iBACZF,OAAOrB,UAAUyB,OAvFC,aAwFbC,eAAeT,SAAUC,SAAS,IAEvCD,WAIJO,oBAAoBN,QAASG,OAAQD,aAC/BC,OAAQ,CACVA,OAAOrB,UAAUyB,OAlGG,gBAoGdE,cAAgBnB,wBAAeoB,QA1FJ,kCA0F4CP,OAAOzB,YAEhF+B,eACFA,cAAc3B,UAAUyB,OAvGN,UA0GgB,QAAhCJ,OAAOQ,aAAa,SACtBR,OAAOS,aAAa,iBAAiB,GAIzCZ,QAAQlB,UAAU+B,IA/GI,UAgHe,QAAjCb,QAAQW,aAAa,SACvBX,QAAQY,aAAa,iBAAiB,qBAGjCZ,SAEHA,QAAQlB,UAAUC,SArHF,SAsHlBiB,QAAQlB,UAAU+B,IArHA,YAwHhBC,OAASd,QAAQtB,cACjBoC,QAA8B,OAApBA,OAAOzB,WACnByB,OAASA,OAAOpC,YAGdoC,QAAUA,OAAOhC,UAAUC,SAhIF,iBAgIsC,OAC3DgC,gBAAkBf,QAAQb,QA5HZ,aA8HhB4B,yCACaxB,KA1HU,mBA0HqBwB,iBAC3CC,SAAQC,UAAYA,SAASnC,UAAU+B,IApIxB,YAuIpBb,QAAQY,aAAa,iBAAiB,GAGpCV,UACFA,kCAMmBgB,eACd1C,KAAK2C,MAAK,iBACTC,KAAOhD,IAAIiD,oBAAoB7C,SAEf,iBAAX0C,OAAqB,SACF,IAAjBE,KAAKF,cACR,IAAII,qCAA8BJ,aAG1CE,KAAKF,qCAYAK,GAAGC,SAAUrD,qBA9JG,4EA8JyC,SAAUsD,UAC1E,CAAC,IAAK,QAAQC,SAASlD,KAAKmD,UAC9BF,MAAMG,kBAGJ,qBAAWpD,aAIFJ,IAAIiD,oBAAoB7C,MAChCD,wCAUYH,kBAEJA"}