{"version":3,"file":"popover.min.js","sources":["../../src/bootstrap/popover.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.0.2): popover.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { defineJQueryPlugin } from './util/index'\nimport SelectorEngine from './dom/selector-engine'\nimport Tooltip from './tooltip'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'popover'\nconst DATA_KEY = 'bs.popover'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst CLASS_PREFIX = 'bs-popover'\nconst BSCLS_PREFIX_REGEX = new RegExp(`(^|\\\\s)${CLASS_PREFIX}\\\\S+`, 'g')\n\nconst Default = {\n  ...Tooltip.Default,\n  placement: 'right',\n  offset: [0, 8],\n  trigger: 'click',\n  content: '',\n  template: '<div class=\"popover\" role=\"tooltip\">' +\n              '<div class=\"popover-arrow\"></div>' +\n              '<h3 class=\"popover-header\"></h3>' +\n              '<div class=\"popover-body\"></div>' +\n            '</div>'\n}\n\nconst DefaultType = {\n  ...Tooltip.DefaultType,\n  content: '(string|element|function)'\n}\n\nconst Event = {\n  HIDE: `hide${EVENT_KEY}`,\n  HIDDEN: `hidden${EVENT_KEY}`,\n  SHOW: `show${EVENT_KEY}`,\n  SHOWN: `shown${EVENT_KEY}`,\n  INSERTED: `inserted${EVENT_KEY}`,\n  CLICK: `click${EVENT_KEY}`,\n  FOCUSIN: `focusin${EVENT_KEY}`,\n  FOCUSOUT: `focusout${EVENT_KEY}`,\n  MOUSEENTER: `mouseenter${EVENT_KEY}`,\n  MOUSELEAVE: `mouseleave${EVENT_KEY}`\n}\n\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\n\nconst SELECTOR_TITLE = '.popover-header'\nconst SELECTOR_CONTENT = '.popover-body'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Popover extends Tooltip {\n  // Getters\n\n  static get Default() {\n    return Default\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  static get Event() {\n    return Event\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  // Overrides\n\n  isWithContent() {\n    return this.getTitle() || this._getContent()\n  }\n\n  getTipElement() {\n    if (this.tip) {\n      return this.tip\n    }\n\n    this.tip = super.getTipElement()\n\n    if (!this.getTitle()) {\n      SelectorEngine.findOne(SELECTOR_TITLE, this.tip).remove()\n    }\n\n    if (!this._getContent()) {\n      SelectorEngine.findOne(SELECTOR_CONTENT, this.tip).remove()\n    }\n\n    return this.tip\n  }\n\n  setContent() {\n    const tip = this.getTipElement()\n\n    // we use append for html objects to maintain js events\n    this.setElementContent(SelectorEngine.findOne(SELECTOR_TITLE, tip), this.getTitle())\n    let content = this._getContent()\n    if (typeof content === 'function') {\n      content = content.call(this._element)\n    }\n\n    this.setElementContent(SelectorEngine.findOne(SELECTOR_CONTENT, tip), content)\n\n    tip.classList.remove(CLASS_NAME_FADE, CLASS_NAME_SHOW)\n  }\n\n  // Private\n\n  _addAttachmentClass(attachment) {\n    this.getTipElement().classList.add(`${CLASS_PREFIX}-${this.updateAttachment(attachment)}`)\n  }\n\n  _getContent() {\n    return this._element.getAttribute('data-bs-content') || this._config.content\n  }\n\n  _cleanTipClass() {\n    const tip = this.getTipElement()\n    const tabClass = tip.getAttribute('class').match(BSCLS_PREFIX_REGEX)\n    if (tabClass !== null && tabClass.length > 0) {\n      tabClass.map(token => token.trim())\n        .forEach(tClass => tip.classList.remove(tClass))\n    }\n  }\n\n  // Static\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Popover.getOrCreateInstance(this, config)\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n * add .Popover to jQuery only if jQuery is present\n */\n\ndefineJQueryPlugin(Popover)\n\nexport default Popover\n"],"names":["EVENT_KEY","BSCLS_PREFIX_REGEX","RegExp","Default","Tooltip","placement","offset","trigger","content","template","DefaultType","Event","HIDE","HIDDEN","SHOW","SHOWN","INSERTED","CLICK","FOCUSIN","FOCUSOUT","MOUSEENTER","MOUSELEAVE","Popover","NAME","isWithContent","this","getTitle","_getContent","getTipElement","tip","super","findOne","remove","setContent","setElementContent","SelectorEngine","call","_element","classList","_addAttachmentClass","attachment","add","updateAttachment","getAttribute","_config","_cleanTipClass","tabClass","match","length","map","token","trim","forEach","tClass","config","each","data","getOrCreateInstance","TypeError"],"mappings":"oaAmBMA,qBADW,cAGXC,mBAAqB,IAAIC,wBADV,qBAC+C,KAE9DC,QAAU,IACXC,iBAAQD,QACXE,UAAW,QACXC,OAAQ,CAAC,EAAG,GACZC,QAAS,QACTC,QAAS,GACTC,SAAU,+IAONC,YAAc,IACfN,iBAAQM,YACXF,QAAS,6BAGLG,MAAQ,CACZC,mBAAaZ,WACba,uBAAiBb,WACjBc,mBAAad,WACbe,qBAAef,WACfgB,2BAAqBhB,WACrBiB,qBAAejB,WACfkB,yBAAmBlB,WACnBmB,2BAAqBnB,WACrBoB,+BAAyBpB,WACzBqB,+BAAyBrB,kBAerBsB,gBAAgBlB,iBAGTD,4BACFA,QAGEoB,wBAxDA,UA4DAZ,0BACFA,MAGED,gCACFA,YAKTc,uBACSC,KAAKC,YAAcD,KAAKE,cAGjCC,uBACMH,KAAKI,WAIJA,IAAMC,MAAMF,gBAEZH,KAAKC,oCACOK,QA1CE,kBA0CsBN,KAAKI,KAAKG,SAG9CP,KAAKE,uCACOI,QA7CI,gBA6CsBN,KAAKI,KAAKG,UAV5CP,KAAKI,IAgBhBI,mBACQJ,IAAMJ,KAAKG,qBAGZM,kBAAkBC,wBAAeJ,QAxDnB,kBAwD2CF,KAAMJ,KAAKC,gBACrElB,QAAUiB,KAAKE,cACI,mBAAZnB,UACTA,QAAUA,QAAQ4B,KAAKX,KAAKY,gBAGzBH,kBAAkBC,wBAAeJ,QA7DjB,gBA6D2CF,KAAMrB,SAEtEqB,IAAIS,UAAUN,OAnEM,OACA,QAuEtBO,oBAAoBC,iBACbZ,gBAAgBU,UAAUG,cA3Gd,yBA2GqChB,KAAKiB,iBAAiBF,cAG9Eb,qBACSF,KAAKY,SAASM,aAAa,oBAAsBlB,KAAKmB,QAAQpC,QAGvEqC,uBACQhB,IAAMJ,KAAKG,gBACXkB,SAAWjB,IAAIc,aAAa,SAASI,MAAM9C,oBAChC,OAAb6C,UAAqBA,SAASE,OAAS,GACzCF,SAASG,KAAIC,OAASA,MAAMC,SACzBC,SAAQC,QAAUxB,IAAIS,UAAUN,OAAOqB,iCAMvBC,eACd7B,KAAK8B,MAAK,iBACTC,KAAOlC,QAAQmC,oBAAoBhC,KAAM6B,WAEzB,iBAAXA,OAAqB,SACF,IAAjBE,KAAKF,cACR,IAAII,qCAA8BJ,aAG1CE,KAAKF,6CAaMhC,sBAEJA"}