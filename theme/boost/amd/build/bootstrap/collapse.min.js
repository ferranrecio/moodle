define("theme_boost/bootstrap/collapse",["exports","./util/index","./dom/data","./dom/event-handler","./dom/manipulator","./dom/selector-engine","./base-component"],(function(_exports,_index,_data,_eventHandler,_manipulator,_selectorEngine,_baseComponent){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_data=_interopRequireDefault(_data),_eventHandler=_interopRequireDefault(_eventHandler),_manipulator=_interopRequireDefault(_manipulator),_selectorEngine=_interopRequireDefault(_selectorEngine),_baseComponent=_interopRequireDefault(_baseComponent);const EVENT_KEY=".".concat("bs.collapse"),Default={toggle:!0,parent:""},DefaultType={toggle:"boolean",parent:"(string|element)"},EVENT_SHOW="show".concat(EVENT_KEY),EVENT_SHOWN="shown".concat(EVENT_KEY),EVENT_HIDE="hide".concat(EVENT_KEY),EVENT_HIDDEN="hidden".concat(EVENT_KEY),EVENT_CLICK_DATA_API="click".concat(EVENT_KEY).concat(".data-api");class Collapse extends _baseComponent.default{constructor(element,config){super(element),this._isTransitioning=!1,this._config=this._getConfig(config),this._triggerArray=_selectorEngine.default.find("".concat('[data-bs-toggle="collapse"]','[href="#').concat(this._element.id,'"],')+"".concat('[data-bs-toggle="collapse"]','[data-bs-target="#').concat(this._element.id,'"]'));const toggleList=_selectorEngine.default.find('[data-bs-toggle="collapse"]');for(let i=0,len=toggleList.length;i<len;i++){const elem=toggleList[i],selector=(0,_index.getSelectorFromElement)(elem),filterElement=_selectorEngine.default.find(selector).filter((foundElem=>foundElem===this._element));null!==selector&&filterElement.length&&(this._selector=selector,this._triggerArray.push(elem))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}static get Default(){return Default}static get NAME(){return"collapse"}toggle(){this._element.classList.contains("show")?this.hide():this.show()}show(){if(this._isTransitioning||this._element.classList.contains("show"))return;let actives,activesData;this._parent&&(actives=_selectorEngine.default.find(".show, .collapsing",this._parent).filter((elem=>"string"==typeof this._config.parent?elem.getAttribute("data-bs-parent")===this._config.parent:elem.classList.contains("collapse"))),0===actives.length&&(actives=null));const container=_selectorEngine.default.findOne(this._selector);if(actives){const tempActiveData=actives.find((elem=>container!==elem));if(activesData=tempActiveData?Collapse.getInstance(tempActiveData):null,activesData&&activesData._isTransitioning)return}if(_eventHandler.default.trigger(this._element,EVENT_SHOW).defaultPrevented)return;actives&&actives.forEach((elemActive=>{container!==elemActive&&Collapse.collapseInterface(elemActive,"hide"),activesData||_data.default.set(elemActive,"bs.collapse",null)}));const dimension=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[dimension]=0,this._triggerArray.length&&this._triggerArray.forEach((element=>{element.classList.remove("collapsed"),element.setAttribute("aria-expanded",!0)})),this.setTransitioning(!0);const capitalizedDimension=dimension[0].toUpperCase()+dimension.slice(1),scrollSize="scroll".concat(capitalizedDimension);this._queueCallback((()=>{this._element.classList.remove("collapsing"),this._element.classList.add("collapse","show"),this._element.style[dimension]="",this.setTransitioning(!1),_eventHandler.default.trigger(this._element,EVENT_SHOWN)}),this._element,!0),this._element.style[dimension]="".concat(this._element[scrollSize],"px")}hide(){if(this._isTransitioning||!this._element.classList.contains("show"))return;if(_eventHandler.default.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const dimension=this._getDimension();this._element.style[dimension]="".concat(this._element.getBoundingClientRect()[dimension],"px"),(0,_index.reflow)(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");const triggerArrayLength=this._triggerArray.length;if(triggerArrayLength>0)for(let i=0;i<triggerArrayLength;i++){const trigger=this._triggerArray[i],elem=(0,_index.getElementFromSelector)(trigger);elem&&!elem.classList.contains("show")&&(trigger.classList.add("collapsed"),trigger.setAttribute("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[dimension]="",this._queueCallback((()=>{this.setTransitioning(!1),this._element.classList.remove("collapsing"),this._element.classList.add("collapse"),_eventHandler.default.trigger(this._element,EVENT_HIDDEN)}),this._element,!0)}setTransitioning(isTransitioning){this._isTransitioning=isTransitioning}_getConfig(config){return(config={...Default,...config}).toggle=Boolean(config.toggle),(0,_index.typeCheckConfig)("collapse",config,DefaultType),config}_getDimension(){return this._element.classList.contains("width")?"width":"height"}_getParent(){let{parent:parent}=this._config;parent=(0,_index.getElement)(parent);const selector="".concat('[data-bs-toggle="collapse"]','[data-bs-parent="').concat(parent,'"]');return _selectorEngine.default.find(selector,parent).forEach((element=>{const selected=(0,_index.getElementFromSelector)(element);this._addAriaAndCollapsedClass(selected,[element])})),parent}_addAriaAndCollapsedClass(element,triggerArray){if(!element||!triggerArray.length)return;const isOpen=element.classList.contains("show");triggerArray.forEach((elem=>{isOpen?elem.classList.remove("collapsed"):elem.classList.add("collapsed"),elem.setAttribute("aria-expanded",isOpen)}))}static collapseInterface(element,config){let data=Collapse.getInstance(element);const _config={...Default,..._manipulator.default.getDataAttributes(element),..."object"==typeof config&&config?config:{}};if(!data&&_config.toggle&&"string"==typeof config&&/show|hide/.test(config)&&(_config.toggle=!1),data||(data=new Collapse(element,_config)),"string"==typeof config){if(void 0===data[config])throw new TypeError('No method named "'.concat(config,'"'));data[config]()}}static jQueryInterface(config){return this.each((function(){Collapse.collapseInterface(this,config)}))}}_eventHandler.default.on(document,EVENT_CLICK_DATA_API,'[data-bs-toggle="collapse"]',(function(event){("A"===event.target.tagName||event.delegateTarget&&"A"===event.delegateTarget.tagName)&&event.preventDefault();const triggerData=_manipulator.default.getDataAttributes(this),selector=(0,_index.getSelectorFromElement)(this);_selectorEngine.default.find(selector).forEach((element=>{const data=Collapse.getInstance(element);let config;data?(null===data._parent&&"string"==typeof triggerData.parent&&(data._config.parent=triggerData.parent,data._parent=data._getParent()),config="toggle"):config=triggerData,Collapse.collapseInterface(element,config)}))})),(0,_index.defineJQueryPlugin)(Collapse);var _default=Collapse;return _exports.default=_default,_exports.default}));

//# sourceMappingURL=collapse.min.js.map