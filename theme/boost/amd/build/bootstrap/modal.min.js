define("theme_boost/bootstrap/modal",["exports","./util/index","./dom/event-handler","./dom/manipulator","./dom/selector-engine","./util/scrollbar","./base-component","./util/backdrop"],(function(_exports,_index,_eventHandler,_manipulator,_selectorEngine,_scrollbar,_baseComponent,_backdrop){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_eventHandler=_interopRequireDefault(_eventHandler),_manipulator=_interopRequireDefault(_manipulator),_selectorEngine=_interopRequireDefault(_selectorEngine),_scrollbar=_interopRequireDefault(_scrollbar),_baseComponent=_interopRequireDefault(_baseComponent),_backdrop=_interopRequireDefault(_backdrop);const EVENT_KEY=".".concat("bs.modal"),Default={backdrop:!0,keyboard:!0,focus:!0},DefaultType={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},EVENT_HIDE="hide".concat(EVENT_KEY),EVENT_HIDE_PREVENTED="hidePrevented".concat(EVENT_KEY),EVENT_HIDDEN="hidden".concat(EVENT_KEY),EVENT_SHOW="show".concat(EVENT_KEY),EVENT_SHOWN="shown".concat(EVENT_KEY),EVENT_FOCUSIN="focusin".concat(EVENT_KEY),EVENT_RESIZE="resize".concat(EVENT_KEY),EVENT_CLICK_DISMISS="click.dismiss".concat(EVENT_KEY),EVENT_KEYDOWN_DISMISS="keydown.dismiss".concat(EVENT_KEY),EVENT_MOUSEUP_DISMISS="mouseup.dismiss".concat(EVENT_KEY),EVENT_MOUSEDOWN_DISMISS="mousedown.dismiss".concat(EVENT_KEY),EVENT_CLICK_DATA_API="click".concat(EVENT_KEY).concat(".data-api");class Modal extends _baseComponent.default{constructor(element,config){super(element),this._config=this._getConfig(config),this._dialog=_selectorEngine.default.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new _scrollbar.default}static get Default(){return Default}static get NAME(){return"modal"}toggle(relatedTarget){return this._isShown?this.hide():this.show(relatedTarget)}show(relatedTarget){if(this._isShown||this._isTransitioning)return;_eventHandler.default.trigger(this._element,EVENT_SHOW,{relatedTarget:relatedTarget}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add("modal-open"),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),_eventHandler.default.on(this._element,EVENT_CLICK_DISMISS,'[data-bs-dismiss="modal"]',(event=>this.hide(event))),_eventHandler.default.on(this._dialog,EVENT_MOUSEDOWN_DISMISS,(()=>{_eventHandler.default.one(this._element,EVENT_MOUSEUP_DISMISS,(event=>{event.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(relatedTarget))))}hide(event){if(event&&["A","AREA"].includes(event.target.tagName)&&event.preventDefault(),!this._isShown||this._isTransitioning)return;if(_eventHandler.default.trigger(this._element,EVENT_HIDE).defaultPrevented)return;this._isShown=!1;const isAnimated=this._isAnimated();isAnimated&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),_eventHandler.default.off(document,EVENT_FOCUSIN),this._element.classList.remove("show"),_eventHandler.default.off(this._element,EVENT_CLICK_DISMISS),_eventHandler.default.off(this._dialog,EVENT_MOUSEDOWN_DISMISS),this._queueCallback((()=>this._hideModal()),this._element,isAnimated)}dispose(){[window,this._dialog].forEach((htmlElement=>_eventHandler.default.off(htmlElement,EVENT_KEY))),this._backdrop.dispose(),super.dispose(),_eventHandler.default.off(document,EVENT_FOCUSIN)}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new _backdrop.default({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_getConfig(config){return config={...Default,..._manipulator.default.getDataAttributes(this._element),..."object"==typeof config?config:{}},(0,_index.typeCheckConfig)("modal",config,DefaultType),config}_showElement(relatedTarget){const isAnimated=this._isAnimated(),modalBody=_selectorEngine.default.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,modalBody&&(modalBody.scrollTop=0),isAnimated&&(0,_index.reflow)(this._element),this._element.classList.add("show"),this._config.focus&&this._enforceFocus();this._queueCallback((()=>{this._config.focus&&this._element.focus(),this._isTransitioning=!1,_eventHandler.default.trigger(this._element,EVENT_SHOWN,{relatedTarget:relatedTarget})}),this._dialog,isAnimated)}_enforceFocus(){_eventHandler.default.off(document,EVENT_FOCUSIN),_eventHandler.default.on(document,EVENT_FOCUSIN,(event=>{document===event.target||this._element===event.target||this._element.contains(event.target)||this._element.focus()}))}_setEscapeEvent(){this._isShown?_eventHandler.default.on(this._element,EVENT_KEYDOWN_DISMISS,(event=>{this._config.keyboard&&"Escape"===event.key?(event.preventDefault(),this.hide()):this._config.keyboard||"Escape"!==event.key||this._triggerBackdropTransition()})):_eventHandler.default.off(this._element,EVENT_KEYDOWN_DISMISS)}_setResizeEvent(){this._isShown?_eventHandler.default.on(window,EVENT_RESIZE,(()=>this._adjustDialog())):_eventHandler.default.off(window,EVENT_RESIZE)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove("modal-open"),this._resetAdjustments(),this._scrollBar.reset(),_eventHandler.default.trigger(this._element,EVENT_HIDDEN)}))}_showBackdrop(callback){_eventHandler.default.on(this._element,EVENT_CLICK_DISMISS,(event=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:event.target===event.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(callback)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(_eventHandler.default.trigger(this._element,EVENT_HIDE_PREVENTED).defaultPrevented)return;const{classList:classList,scrollHeight:scrollHeight,style:style}=this._element,isModalOverflowing=scrollHeight>document.documentElement.clientHeight;!isModalOverflowing&&"hidden"===style.overflowY||classList.contains("modal-static")||(isModalOverflowing||(style.overflowY="hidden"),classList.add("modal-static"),this._queueCallback((()=>{classList.remove("modal-static"),isModalOverflowing||this._queueCallback((()=>{style.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const isModalOverflowing=this._element.scrollHeight>document.documentElement.clientHeight,scrollbarWidth=this._scrollBar.getWidth(),isBodyOverflowing=scrollbarWidth>0;(!isBodyOverflowing&&isModalOverflowing&&!(0,_index.isRTL)()||isBodyOverflowing&&!isModalOverflowing&&(0,_index.isRTL)())&&(this._element.style.paddingLeft="".concat(scrollbarWidth,"px")),(isBodyOverflowing&&!isModalOverflowing&&!(0,_index.isRTL)()||!isBodyOverflowing&&isModalOverflowing&&(0,_index.isRTL)())&&(this._element.style.paddingRight="".concat(scrollbarWidth,"px"))}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(config,relatedTarget){return this.each((function(){const data=Modal.getOrCreateInstance(this,config);if("string"==typeof config){if(void 0===data[config])throw new TypeError('No method named "'.concat(config,'"'));data[config](relatedTarget)}}))}}_eventHandler.default.on(document,EVENT_CLICK_DATA_API,'[data-bs-toggle="modal"]',(function(event){const target=(0,_index.getElementFromSelector)(this);["A","AREA"].includes(this.tagName)&&event.preventDefault(),_eventHandler.default.one(target,EVENT_SHOW,(showEvent=>{showEvent.defaultPrevented||_eventHandler.default.one(target,EVENT_HIDDEN,(()=>{(0,_index.isVisible)(this)&&this.focus()}))}));Modal.getOrCreateInstance(target).toggle(this)})),(0,_index.defineJQueryPlugin)(Modal);var _default=Modal;return _exports.default=_default,_exports.default}));

//# sourceMappingURL=modal.min.js.map