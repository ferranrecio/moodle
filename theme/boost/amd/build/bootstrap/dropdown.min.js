define("theme_boost/bootstrap/dropdown",["exports","theme_boost/popper","./util/index","./dom/event-handler","./dom/manipulator","./dom/selector-engine","./base-component"],(function(_exports,Popper,_index,_eventHandler,_manipulator,_selectorEngine,_baseComponent){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,Popper=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!=typeof obj&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(Popper),_eventHandler=_interopRequireDefault(_eventHandler),_manipulator=_interopRequireDefault(_manipulator),_selectorEngine=_interopRequireDefault(_selectorEngine),_baseComponent=_interopRequireDefault(_baseComponent);const NAME="dropdown",EVENT_KEY=".".concat("bs.dropdown"),REGEXP_KEYDOWN=new RegExp("".concat("ArrowUp","|").concat("ArrowDown","|").concat("Escape")),EVENT_HIDE="hide".concat(EVENT_KEY),EVENT_HIDDEN="hidden".concat(EVENT_KEY),EVENT_SHOW="show".concat(EVENT_KEY),EVENT_SHOWN="shown".concat(EVENT_KEY),EVENT_CLICK="click".concat(EVENT_KEY),EVENT_CLICK_DATA_API="click".concat(EVENT_KEY).concat(".data-api"),EVENT_KEYDOWN_DATA_API="keydown".concat(EVENT_KEY).concat(".data-api"),EVENT_KEYUP_DATA_API="keyup".concat(EVENT_KEY).concat(".data-api"),PLACEMENT_TOP=(0,_index.isRTL)()?"top-end":"top-start",PLACEMENT_TOPEND=(0,_index.isRTL)()?"top-start":"top-end",PLACEMENT_BOTTOM=(0,_index.isRTL)()?"bottom-end":"bottom-start",PLACEMENT_BOTTOMEND=(0,_index.isRTL)()?"bottom-start":"bottom-end",PLACEMENT_RIGHT=(0,_index.isRTL)()?"left-start":"right-start",PLACEMENT_LEFT=(0,_index.isRTL)()?"right-start":"left-start",Default={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},DefaultType={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class Dropdown extends _baseComponent.default{constructor(element,config){super(element),this._popper=null,this._config=this._getConfig(config),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}toggle(){if((0,_index.isDisabled)(this._element))return;this._element.classList.contains("show")?this.hide():this.show()}show(){if((0,_index.isDisabled)(this._element)||this._menu.classList.contains("show"))return;const parent=Dropdown.getParentFromElement(this._element),relatedTarget={relatedTarget:this._element};if(!_eventHandler.default.trigger(this._element,EVENT_SHOW,relatedTarget).defaultPrevented){if(this._inNavbar)_manipulator.default.setDataAttribute(this._menu,"popper","none");else{if(void 0===Popper)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let referenceElement=this._element;"parent"===this._config.reference?referenceElement=parent:(0,_index.isElement)(this._config.reference)?referenceElement=(0,_index.getElement)(this._config.reference):"object"==typeof this._config.reference&&(referenceElement=this._config.reference);const popperConfig=this._getPopperConfig(),isDisplayStatic=popperConfig.modifiers.find((modifier=>"applyStyles"===modifier.name&&!1===modifier.enabled));this._popper=Popper.createPopper(referenceElement,this._menu,popperConfig),isDisplayStatic&&_manipulator.default.setDataAttribute(this._menu,"popper","static")}"ontouchstart"in document.documentElement&&!parent.closest(".navbar-nav")&&[].concat(...document.body.children).forEach((elem=>_eventHandler.default.on(elem,"mouseover",_index.noop))),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.toggle("show"),this._element.classList.toggle("show"),_eventHandler.default.trigger(this._element,EVENT_SHOWN,relatedTarget)}}hide(){if((0,_index.isDisabled)(this._element)||!this._menu.classList.contains("show"))return;const relatedTarget={relatedTarget:this._element};this._completeHide(relatedTarget)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_addEventListeners(){_eventHandler.default.on(this._element,EVENT_CLICK,(event=>{event.preventDefault(),this.toggle()}))}_completeHide(relatedTarget){_eventHandler.default.trigger(this._element,EVENT_HIDE,relatedTarget).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((elem=>_eventHandler.default.off(elem,"mouseover",_index.noop))),this._popper&&this._popper.destroy(),this._menu.classList.remove("show"),this._element.classList.remove("show"),this._element.setAttribute("aria-expanded","false"),_manipulator.default.removeDataAttribute(this._menu,"popper"),_eventHandler.default.trigger(this._element,EVENT_HIDDEN,relatedTarget))}_getConfig(config){if(config={...this.constructor.Default,..._manipulator.default.getDataAttributes(this._element),...config},(0,_index.typeCheckConfig)(NAME,config,this.constructor.DefaultType),"object"==typeof config.reference&&!(0,_index.isElement)(config.reference)&&"function"!=typeof config.reference.getBoundingClientRect)throw new TypeError("".concat(NAME.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return config}_getMenuElement(){return _selectorEngine.default.next(this._element,".dropdown-menu")[0]}_getPlacement(){const parentDropdown=this._element.parentNode;if(parentDropdown.classList.contains("dropend"))return PLACEMENT_RIGHT;if(parentDropdown.classList.contains("dropstart"))return PLACEMENT_LEFT;const isEnd="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return parentDropdown.classList.contains("dropup")?isEnd?PLACEMENT_TOPEND:PLACEMENT_TOP:isEnd?PLACEMENT_BOTTOMEND:PLACEMENT_BOTTOM}_detectNavbar(){return null!==this._element.closest(".".concat("navbar"))}_getOffset(){const{offset:offset}=this._config;return"string"==typeof offset?offset.split(",").map((val=>Number.parseInt(val,10))):"function"==typeof offset?popperData=>offset(popperData,this._element):offset}_getPopperConfig(){const defaultBsPopperConfig={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(defaultBsPopperConfig.modifiers=[{name:"applyStyles",enabled:!1}]),{...defaultBsPopperConfig,..."function"==typeof this._config.popperConfig?this._config.popperConfig(defaultBsPopperConfig):this._config.popperConfig}}_selectMenuItem(_ref){let{key:key,target:target}=_ref;const items=_selectorEngine.default.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(_index.isVisible);items.length&&(0,_index.getNextActiveElement)(items,target,"ArrowDown"===key,!items.includes(target)).focus()}static dropdownInterface(element,config){const data=Dropdown.getOrCreateInstance(element,config);if("string"==typeof config){if(void 0===data[config])throw new TypeError('No method named "'.concat(config,'"'));data[config]()}}static jQueryInterface(config){return this.each((function(){Dropdown.dropdownInterface(this,config)}))}static clearMenus(event){if(event&&(2===event.button||"keyup"===event.type&&"Tab"!==event.key))return;const toggles=_selectorEngine.default.find('[data-bs-toggle="dropdown"]');for(let i=0,len=toggles.length;i<len;i++){const context=Dropdown.getInstance(toggles[i]);if(!context||!1===context._config.autoClose)continue;if(!context._element.classList.contains("show"))continue;const relatedTarget={relatedTarget:context._element};if(event){const composedPath=event.composedPath(),isMenuTarget=composedPath.includes(context._menu);if(composedPath.includes(context._element)||"inside"===context._config.autoClose&&!isMenuTarget||"outside"===context._config.autoClose&&isMenuTarget)continue;if(context._menu.contains(event.target)&&("keyup"===event.type&&"Tab"===event.key||/input|select|option|textarea|form/i.test(event.target.tagName)))continue;"click"===event.type&&(relatedTarget.clickEvent=event)}context._completeHide(relatedTarget)}}static getParentFromElement(element){return(0,_index.getElementFromSelector)(element)||element.parentNode}static dataApiKeydownHandler(event){if(/input|textarea/i.test(event.target.tagName)?"Space"===event.key||"Escape"!==event.key&&("ArrowDown"!==event.key&&"ArrowUp"!==event.key||event.target.closest(".dropdown-menu")):!REGEXP_KEYDOWN.test(event.key))return;const isActive=this.classList.contains("show");if(!isActive&&"Escape"===event.key)return;if(event.preventDefault(),event.stopPropagation(),(0,_index.isDisabled)(this))return;const getToggleButton=()=>this.matches('[data-bs-toggle="dropdown"]')?this:_selectorEngine.default.prev(this,'[data-bs-toggle="dropdown"]')[0];return"Escape"===event.key?(getToggleButton().focus(),void Dropdown.clearMenus()):"ArrowUp"===event.key||"ArrowDown"===event.key?(isActive||getToggleButton().click(),void Dropdown.getInstance(getToggleButton())._selectMenuItem(event)):void(isActive&&"Space"!==event.key||Dropdown.clearMenus())}}_eventHandler.default.on(document,EVENT_KEYDOWN_DATA_API,'[data-bs-toggle="dropdown"]',Dropdown.dataApiKeydownHandler),_eventHandler.default.on(document,EVENT_KEYDOWN_DATA_API,".dropdown-menu",Dropdown.dataApiKeydownHandler),_eventHandler.default.on(document,EVENT_CLICK_DATA_API,Dropdown.clearMenus),_eventHandler.default.on(document,EVENT_KEYUP_DATA_API,Dropdown.clearMenus),_eventHandler.default.on(document,EVENT_CLICK_DATA_API,'[data-bs-toggle="dropdown"]',(function(event){event.preventDefault(),Dropdown.dropdownInterface(this)})),(0,_index.defineJQueryPlugin)(Dropdown);var _default=Dropdown;return _exports.default=_default,_exports.default}));

//# sourceMappingURL=dropdown.min.js.map