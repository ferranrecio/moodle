define ("core_course/local/editor/courseindex",["exports","core_course/editor","core/log"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.readyState=a.getEventHandlers=a.init=void 0;b=d(b);c=d(c);function d(a){return a&&a.__esModule?a:{default:a}}var h={section:".ci-sectionitem",cm:".ci-cmitem",cicontent:"#courseindex-content"},i=!1,j=function(a){var c,d,e;if(i){return!0}i=!0;h.section=null!==(c=a.section)&&void 0!==c?c:h.section;h.cm=null!==(d=a.cm)&&void 0!==d?d:h.cm;h.cicontent=null!==(e=a.cicontent)&&void 0!==e?e:h.cicontent;b.default.registerComponent({name:"courseindex",getEventHandlers:k});return!0};a.init=j;var k=function(){return{state_loaded:l,cm_updated:e,section_updated:f}};a.getEventHandlers=k;var l=function(a){var b=a.state;if(b.course.editmode){var c=document.querySelector(h.cicontent);c.addEventListener("click",g)}};a.readyState=l;function e(a){var b=a.element,c=document.querySelector("".concat(h.cm,"[data-id='").concat(b.id,"']"));if(b.visible){c.classList.remove("dimmed");c.classList.remove("bg-light")}else{c.classList.add("dimmed");c.classList.add("bg-light")}if(b.locked){c.classList.add("locked")}else{c.classList.remove("locked")}}function f(a){var b=a.element,c=document.querySelector("".concat(h.section," [data-id='").concat(b.id,"']"));if(b.visible){c.classList.remove("dimmed")}else{c.classList.add("dimmed")}}function g(a){var d=a.target.closest("[data-action]");if(d){c.default.debug("ACTION ".concat(d.dataset.action));b.default.dispatch(d.dataset.action,[d.dataset.id])}}});
//# sourceMappingURL=courseindex.min.js.map
